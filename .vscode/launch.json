{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "LLDB Rust Kernel EFI",
            "type": "lldb",
            "request": "custom",
            "preLaunchTask": "dbg full chain",
            "targetCreateCommands": [
                "target create --no-dependents --arch x86_64 ${workspaceRoot}/target/debug/kernel.efi"
            ],
            "processCreateCommands": [
                "settings set target.debug-file-search-paths \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\"",
                "gdb-remote localhost:1234",
                "target modules load --file kernel.efi .text 0xFFFF850000000000",
                // acpi.dll
                "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\acpi.dll\"",
                "target modules load --file \"acpi.dll\" .text 0xffff900010013000",
                // pci.dll 
                "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\pci.dll\"",
                "target modules load --file \"pci.dll\" .text 0xffff9000121f0000",
                // i8042.dll
                // "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\i8042.dll\"",
                // "target modules load --file \"i8042.dll\" .text 0xffff90001223b000",
                // virtio.dll
                "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\virtio.dll\"",
                "target modules load --file \"virtio.dll\" .text 0xffff900022253000",
                // ide.dll
                // "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\ide.dll\"",
                // "target modules load --file \"ide.dll\" .text 0xffff9000122cc000",
                // disk.dll 
                "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\disk.dll\"",
                "target modules load --file \"disk.dll\" .text 0xffff900022379000",
                // partmgr.dll
                "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\partmgr.dll\"",
                "target modules load --file \"partmgr.dll\" .text 0xffff9000223db000",
                // volmgr.dll
                "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\volmgr.dll\"",
                "target modules load --file \"volmgr.dll\" .text 0xffff90002242b000",
                // mountmgr.dll
                "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\mountmgr.dll\"",
                "target modules load --file \"mountmgr.dll\" .text 0xffff900022476000",
                // fat32.dll
                "target modules add \"${workspaceRoot}\\drivers\\target\\x86_64-rustos-driver\\debug\\deps\\fat32.dll\"",
                "target modules load --file \"fat32.dll\" .text 0xffff900022520000"
            ],
            "sourceLanguages": [
                "rust"
            ],
            "cwd": "${workspaceRoot}/kernel/src"
        }
    ]
}